---
import Base from '../layouts/Base.astro';
import { fetchMatches } from '../lib/fetchMatches';

const matches = await fetchMatches();
const championsMatches = matches.filter(m =>
  (m.league || '').toLowerCase().includes('champions') ||
  (m.league || '').toLowerCase().includes('uefa')
);

const pageTitle = 'Champions League en vivo | Pirlo TV Roja Directa';
const pageDescription =
  'Ver Champions League en vivo gratis en Pirlo TV y Roja Directa. Partidos online en HD.';
const pageKeywords =
  'champions league en vivo, pirlo tv champions, roja directa champions, futbol europa en vivo';
---

<Base title={pageTitle} description={pageDescription} keywords={pageKeywords}>
  <section class="hero-small">
    <h1>Champions League en vivo</h1>
    <p>Partidos de UEFA Champions League en Pirlo TV, Roja Directa y Tarjeta Roja.</p>
  </section>

  <section class="content-container">
    {championsMatches.length === 0 ? (
      <p>No hay partidos de Champions League cargados actualmente.</p>
    ) : (
      <ul class="matches-list">
        {championsMatches.map(match => (
          <li>
            <a href={`/${match.slug}/`}>
              <strong>{match.team_a} vs {match.team_b}</strong>
              <> · {match.date} · {match.time}</>
            </a>
          </li>
        ))}
      </ul>
    )}
  </section>
</Base>

<style>
  .hero-small {
    background: #141414;
    padding: 2.5rem 2rem;
    text-align: center;
  }

  .content-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 3rem 2rem;
  }

  .matches-list {
    list-style: none;
    padding: 0;
    display: grid;
    gap: 1rem;
  }

  .matches-list a {
    display: block;
    padding: 1rem 1.25rem;
    background: #181818;
    border-radius: 0.4rem;
  }
</style>

